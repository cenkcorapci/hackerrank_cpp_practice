name: CI - Build solutions

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

jobs:
  build:
    name: Configure & Build (CMake + Ninja)
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Install build deps
        run: |
          sudo apt-get update
          sudo apt-get install -y cmake ninja-build build-essential

      - name: Configure (Ninja)
        run: cmake -G Ninja -S . -B build

      - name: Build all targets
        run: cmake --build build --parallel

      - name: List built artifacts
        run: ls -la build || true
